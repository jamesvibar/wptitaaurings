{"version":3,"sources":["components/topbar.js","all.js","../../node_modules/parcel-bundler/src/builtins/bundle-url.js","../../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Topbar","element","el","document","querySelector","scrollPos","contentBounds","elementBounds","ticking","undefined","length","init","getBounds","getBoundingClientRect","height","scrollEventFn","window","scrollY","pageYOffset","documentElement","scrollTop","body","requestAnimationFrame","miniTopbar","addEventListener","y","classList","contains","add","remove","topbar","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEAA,IAAI+B,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,OAAO,GAAG,CAAC,KAAKD,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,gCAAvB,CAAd;;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWC,OAAX,CAAmB,uCAAnB,EAA4D,IAA5D,IAAoE,GAA3E;AACD;;AAEDC,OAAO,CAACT,YAAR,GAAuBD,kBAAvB;AACAU,OAAO,CAACH,UAAR,GAAqBA,UAArB;;AC5BA,IAAII,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;;AACAD,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACjB,MAAL;AACD,GAFD;;AAGAkB,EAAAA,OAAO,CAACG,IAAR,GAAeJ,IAAI,CAACI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;AACAP,EAAAA,IAAI,CAACQ,UAAL,CAAgBC,YAAhB,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAGzD,QAAQ,CAAC0D,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAAClD,MAA1B,EAAkCoD,CAAC,EAAnC,EAAuC;AACrC,UAAInB,MAAM,CAACJ,UAAP,CAAkBqB,KAAK,CAACE,CAAD,CAAL,CAASZ,IAA3B,MAAqCP,MAAM,CAACV,YAAP,EAAzC,EAAgE;AAC9DY,QAAAA,UAAU,CAACe,KAAK,CAACE,CAAD,CAAN,CAAV;AACD;AACF;;AAEDL,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAEDM,MAAM,CAACrB,OAAP,GAAiBgB,SAAjB;;;;;;;;;;;;;;;;;;;;IH7BM1D;;;AACJ,kBAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKC,EAAL,GAAUC,QAAQ,CAACC,aAAT,CAAuBH,OAAvB,CAAV;AACA,SAAKI,SAAL,GAAiB,IAAjB;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,OAAL,GAAe,KAAf;AAEA,QAAI,CAAC,KAAKN,EAAN,IAAY,KAAKA,EAAL,KAAYO,SAAxB,IAAqC,KAAKP,EAAL,CAAQQ,MAAR,KAAmB,CAA5D,EAA+D;AAC/D,SAAKC,IAAL;AACD;;;;2BAEM;AAAA;;AACL,WAAKL,aAAL,GAAqB,KAAKM,SAAL,CAAeT,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAf,CAArB;AACA,WAAKG,aAAL,GAAqB,KAAKL,EAAL,CAAQW,qBAAR,GAAgCC,MAArD;;AAEA,WAAKC,aAAL,GAAqB,YAAM;AACzB,QAAA,KAAI,CAACV,SAAL,GACEW,MAAM,CAACC,OAAP,IACAD,MAAM,CAACE,WADP,IAEAf,QAAQ,CAACgB,eAAT,CAAyBC,SAFzB,IAGAjB,QAAQ,CAACkB,IAAT,CAAcD,SAJhB;;AAKA,YAAI,CAAC,KAAI,CAACZ,OAAV,EAAmB;AACjBQ,UAAAA,MAAM,CAACM,qBAAP,CAA6B;AAAA,mBAAM,KAAI,CAACC,UAAL,EAAN;AAAA,WAA7B;AACD;;AACD,QAAA,KAAI,CAACf,OAAL,GAAe,IAAf;AACD,OAVD;;AAWAQ,MAAAA,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkC,KAAKT,aAAvC;AACD;;;8BAESd,SAAS;AACjB,aACEA,OAAO,CAACY,qBAAR,GAAgCY,CAAhC,GAAoCT,MAAM,CAACC,OAA3C,IAAsDD,MAAM,CAACE,WAD/D;AAGD;;;iCAEY;AACX,UAAI,KAAKb,SAAL,IAAkB,KAAKC,aAAL,IAAsB,KAAKC,aAAL,GAAqB,EAA3C,CAAtB,EAAsE;AACpE,YAAI,CAAC,KAAKL,EAAL,CAAQwB,SAAR,CAAkBC,QAAlB,CAA2B,SAA3B,CAAL,EAA4C;AAC1C,eAAKzB,EAAL,CAAQwB,SAAR,CAAkBE,GAAlB,CAAsB,SAAtB;AACD;AACF,OAJD,MAIO;AACL,YAAI,KAAK1B,EAAL,CAAQwB,SAAR,CAAkBC,QAAlB,CAA2B,SAA3B,CAAJ,EAA2C;AACzC,eAAKzB,EAAL,CAAQwB,SAAR,CAAkBG,MAAlB,CAAyB,SAAzB;AACD;AACF;;AAED,WAAKrB,OAAL,GAAe,KAAf;AACD;;;;;;eAGYR;;;;;ACnDf;;AAEA;;;;AAF4B;AAI5BG,QAAQ,CAACqB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD;;;;AAIA,MAAMM,MAAM,GAAG,IAAI9B,eAAJ,CAAW,UAAX,CAAf;AACD,CAND","file":"all.map","sourceRoot":"..\\static\\js","sourcesContent":["class Topbar {\n  constructor(element) {\n    this.el = document.querySelector(element);\n    this.scrollPos = null;\n    this.contentBounds = null;\n    this.elementBounds = null;\n    this.ticking = false;\n\n    if (!this.el || this.el === undefined || this.el.length === 0) return;\n    this.init();\n  }\n\n  init() {\n    this.contentBounds = this.getBounds(document.querySelector(\"#content\"));\n    this.elementBounds = this.el.getBoundingClientRect().height;\n\n    this.scrollEventFn = () => {\n      this.scrollPos =\n        window.scrollY ||\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop;\n      if (!this.ticking) {\n        window.requestAnimationFrame(() => this.miniTopbar());\n      }\n      this.ticking = true;\n    };\n    window.addEventListener(\"scroll\", this.scrollEventFn);\n  }\n\n  getBounds(element) {\n    return (\n      element.getBoundingClientRect().y + window.scrollY || window.pageYOffset\n    );\n  }\n\n  miniTopbar() {\n    if (this.scrollPos >= this.contentBounds - (this.elementBounds + 40)) {\n      if (!this.el.classList.contains(\"is-mini\")) {\n        this.el.classList.add(\"is-mini\");\n      }\n    } else {\n      if (this.el.classList.contains(\"is-mini\")) {\n        this.el.classList.remove(\"is-mini\");\n      }\n    }\n\n    this.ticking = false;\n  }\n}\n\nexport default Topbar;\n","import \"../scss/main.scss\"; //Import main stylesheet to compile it.\r\n\r\nimport Topbar from \"./components/topbar\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  /**\r\n   * Site topbar settings. Handles scroll events and menu triggers.\r\n   * @params {String} topbar - class/id of site topbar.\r\n   */\r\n  const topbar = new Topbar(\"#top-bar\");\r\n});\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}